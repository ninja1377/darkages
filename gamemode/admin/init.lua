fadmins = {}admins = {}if (file.Exists("darkages/admins.txt","DATA") ) thenfadmins = util.KeyValuesToTable(file.Read("darkages/admins.txt","DATA"))  endfor k,v in pairs(fadmins) doadmins[string.upper(k)] = vendfunction AddAdmin(ply,cmd,args)	if (args == nil) then print("Error : there is no steamid given") end	local steamid = args[1]	admins[steamid] = steamid	SaveAdminDB()		local player = findBySteamID(steamid)		if (player != nil and player:IsValid()) then			AdminMSG(ply,player:Nick() .. " has been promoted to admin" )		endendconcommand.Add("AddAdmin",AddAdmin)function RemoveAdmin(ply,cmd,args)	local steamid = args[1]	admins[steamid] = nil	SaveAdminDB()		local player = findBySteamID(steamid)		if (player != nil and player:IsValid()) then			AdminMSG(ply,player:Nick() .. " has been demoted to player" )		endendconcommand.Add("RemoveAdmin",RemoveAdmin)function SaveAdminDB()file.Write("darkages/admins.txt",util.TableToKeyValues(admins) )endfunction AdminOpen(ply,text)	if (string.sub(text,0,6) == "/admin") then			if (IsAdmin(ply:SteamID())) then			umsg.Start("adminmenu",ply)		umsg.End()						end				return false	endendhook.Add("PlayerSay","AdminOpen",AdminOpen)function AdminBan(ply,cmd,args)	local id = args[1]	local player = findBySteamID(id)	local reason = args[2]	local time = tonumber(args[3])		player:Ban(time,reason)	player:Kick(reason)	AdminMSG(ply,player:Nick() .. " has been banned for '" .. reason .. "' [" .. time .. " minutes" )endconcommand.Add("AdminBan",AdminBan)function AdminKick(ply,cmd,args)	local id = args[1]	local player = findBySteamID(id)	local reason = args[2]		player:Kick(reason)	AdminMSG(ply,player:Nick() .. " has been kicked for '" .. reason .. "'" )endconcommand.Add("AdminKick",AdminKick)function AdminGiveRes(ply,cmd,args)	local id = args[1]	local player = findBySteamID(id)	local item = tostring(args[2])	local amount = tonumber(args[3])		GiveRes(player,item,amount)	AdminMSG(ply,player:Nick() .. " got " .. amount .. " " .. GetIName(item))endconcommand.Add("AdminGiveRes",AdminGiveRes)function AdminGiveXP(ply,cmd,args)	local id = args[1]	local player = findBySteamID(id)	local skill = tostring(args[2])	local xp = tonumber(args[3])		GiveXP(player,skill,xp)	AdminMSG(ply,player:Nick() .. " got " .. xp .. " " .. skill .. " xp")endconcommand.Add("AdminGiveXP",AdminGiveXP)function Noclip(ply,text,teamo,dead)	if (text == "noclip") then			if (IsAdmin(ply:SteamID())) then					if (ply:GetMoveType() == MOVETYPE_NOCLIP) then						ply:SetMoveType(MOVETYPE_WALK)						else						ply:SetMoveType(MOVETYPE_NOCLIP)						end					else					ply:ChatPrint("You cannot use this command!")					end				return false	endendhook.Add("PlayerSay","Noclip",Noclip)function IsAdmin(steamid)	for k,v in pairs(admins) do			if (v == steamid) then return true end		end		return falseendfunction AdminMSG(ply,msg)	for k,v in pairs(player.GetAll()) do	umsg.Start("adminmsg",v)		if (IsAdmin(v:SteamID())) then umsg.String(ply:Nick()) else umsg.String("ADMIN") end		umsg.String(msg)	umsg.End()	endend